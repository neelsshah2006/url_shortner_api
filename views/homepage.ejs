<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>URL Shortener API Docs</title>
  <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="/stylesheets/homepage.css">
</head>

<body>
  <div class="header-content">
    <h1>ğŸ“˜ URL Shortener API</h1>
    <div class="buttons">
      <button><a href="https://github.com/neelsshah2006/url_shortner_api" target="_blank"><img width="30"
            src="/images/github.svg" alt="github"></a></button>
      <button><a href="https://linkedin.com/in/neelsshah2006" target="_blank"><img width="30" src="/images/linkedin.svg"
            alt="linkedin"></a></button>
      <button id="modeToggle">ğŸŒ™</button>
    </div>
  </div>
  <p>A minimal and efficient RESTful API for shortening URLs. This backend service allows users to register,
    authenticate, create, manage, and track shortened links with robust authentication and statistics. Built with
    Node.js, Express, and MongoDB.</p>
  <div>API is currently openly availabe. Each of the following API Endpoint is currently live on
    the domain: <a href="https://url-shortner-api-k63s.onrender.com/">https://url-shortner-api-k63s.onrender.com</a>
  </div>

  <section>
    <h2>ğŸš€ Features</h2>
    <ul>
      <li>User registration and authentication (JWT & cookies)</li>
      <li>Secure password hashing</li>
      <li>URL shortening with unique short codes</li>
      <li>Creation and Editing of Custom URLs</li>
      <li>Redirection to original URLs</li>
      <li>URL statistics (visit count, creation date)</li>
      <li>User profile management</li>
      <li>User-specific link management</li>
      <li>Token blacklisting for secure logout</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ§° Technology Stack</h2>
    <ul>
      <li><strong>Language:</strong> JavaScript (Node.js)</li>
      <li><strong>Framework:</strong> Express.js</li>
      <li><strong>Database:</strong> MongoDB (Mongoose ODM)</li>
      <li><strong>Authentication:</strong> JWT, bcrypt</li>
      <li><strong>Templating:</strong> EJS</li>
      <li><strong>Validation:</strong> express-validator</li>
      <li><strong>Other:</strong> dotenv, cookie-parser, morgan, cors, helmet</li>
    </ul>
  </section>

  <section>
    <h2>ğŸ“¦ Installation</h2>
    <pre class="code-block"><code>git clone https://github.com/neelsshah2006/url_shortner_api.git
cd url_shortner_api
npm install</code></pre>
  </section>

  <section>
    <h2>ğŸ” Environment Variables</h2>
    <pre class="code-block"><code>PORT=5000
MONGO_URL=mongodb://127.0.0.1:27017/url_shortner
JWT_SECRET=your_jwt_secret
NODE_ENV=development
ROUNDS=15
FRONTEND_URL=your_frontend_website_url
</code></pre>
    <p>FRONTEND_URL is optional. If not provided, the API will accept requests from all websites</p>
  </section>

  <section>
    <h2>ğŸš¦ Authentication</h2>

    <div class="endpoint">
      <div class="endpointTitle">Register a new user</div>
      <span class="method">POST</span> <code>/user/register</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "firstName": "Neel",
  "lastName": "Shah",
  "username": "neelsshah2006",
  "email": "neelsshah2006@gmail.com",
  "password": "Password@123"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "User Registered Successfully",
  "data": {
    "token": "...JWT_Token...",
    "user": {
      "fullName": {
        "firstName": "Neel",
        "lastName": "Shah",
        "_id": "..."
      },
      "username": "neelsshah2006",
      "email": "neelsshah2006@gmail.com",
      "links": [],
      "_id": "...",
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 201,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Login with email or username</div>
      <span class="method">POST</span> <code>/user/login</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "email": "neelsshah2006@gmail.com",
  "password": "Password@123"
}</code></pre>
      <p>OR</p>
      <pre class="code-block"><code>{
  "username": "neelsshah2006",
  "password": "Password@123"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "User Login Successful",
  "data": {
    "token": "...JWT_Token...",
    "user": {
      "_id": "...",
      "fullName": {
        "firstName": "Neel",
        "lastName": "Shah",
        "_id": "..."
      },
      "username": "neelsshah2006",
      "email": "neelsshah2006@gmail.com",
      "links": ["...", "..."],
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Logout user</div>
      <span class="method">GET</span> <code>/user/logout</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "Logged Out Successfully",
  "data": "Logged Out",
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>
  </section>

  <section>
    <h2>ğŸ‘¤ User Endpoints</h2>

    <div class="endpoint">
      <div class="endpointTitle">Get User Profile</div>
      <span class="method">GET</span> <code>/user/profile</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "Profile Sent Successfully",
  "data": {
    "user": {
      "_id": "...",
      "fullName": {
        "firstName": "Neel",
        "lastName": "Shah",
        "_id": "..."
      },
      "username": "neelsshah2006",
      "email": "neelsshah2006@gmail.com",
      "links": ["...", "..."],
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Update User Profile</div>
      <span class="method">PATCH</span> <code>/user/update-profile</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "firstName": "Moksh",
  "lastName": "Shah",
  "username": "mokshshah"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "Profile Updated Successfully",
  "data": {
    "user": {
      "_id": "...",
      "fullName": {
        "firstName": "Moksh",
        "lastName": "Shah",
        "_id": "..."
      },
      "username": "mokshshah",
      "email": "neelsshah2006@gmail.com",
      "links": ["...", "..."],
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Change Account Password</div>
      <span class="method">PATCH</span> <code>/user/change-password</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "oldPassword": "Password@123",
  "newPassword": "NewPass@456"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "Password Changed Successfully",
  "data": {
    "user": {
      "_id": "...",
      "fullName": {
        "firstName": "Moksh",
        "lastName": "Shah",
        "_id": "..."
      },
      "username": "mokshshah",
      "email": "neelsshah2006@gmail.com",
      "links": ["...", "..."],
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Get all Links created by the loginned User</div>
      <span class="method">GET</span> <code>/user/get-links</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "Links Sent Successfully",
  "data": {
    "links": [
      {
        "_id": "...",
        "longUrl": "https://www.google.com",
        "shortCode": "xxxxxx",
        "visitCount": 7,
        "createdAt": "..."
      },
      {
        "_id": "...",
        "longUrl": "https://example.com",
        "shortCode": "xxxxxx",
        "visitCount": 2,
        "createdAt": "..."
      }
    ]
  },
  "statusCode": 200,
  "timestamp": "2025-06-16T12:35:10.937Z"
}</code></pre>
    </div>
  </section>

  <section>
    <h2>ğŸ”— URL Management</h2>

    <div class="endpoint">
      <div class="endpointTitle">Shorten Link</div>
      <span class="method">POST</span> <code>/url/shorten</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "longUrl": "https://example.com"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "URL Shortened Successfully",
  "data": {
    "shortUrl": {
      "user": "...",
      "longUrl": "https://example.com",
      "shortCode": "xxxxxx",
      "visitCount": 0,
      "_id": "...",
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 201,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Create a Custom URL to the provided Link or Edit an already customized URL</div>
      <span class="method">PATCH</span> <code>/url/custom-url</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <strong>Request Body:</strong>
      <pre class="code-block"><code>{
  "existingCode": "abc78s",
  "customCode": "example"
}</code></pre>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "URL Shortened Successfully",
  "data": {
    "shortUrl": {
      "user": "...User_ID...",
      "longUrl": "https://example.com",
      "shortCode": "example",
      "visitCount": 0,
      "_id": "...",
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 201,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Get all Stats Related to a given URL</div>
      <span class="method">GET</span> <code>/url/stats</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <span class="headers">Params:</span> <code>shortCode=xxxxxx</code><br>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "URL Stats sent Successfully",
  "data": {
    "shortUrl": {
      "_id": "...",
      "user": "...",
      "longUrl": "https://example.com",
      "shortCode": "xxxxxx",
      "visitCount": 10,
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>

    <div class="endpoint">
      <div class="endpointTitle">Delete a Shortened URL</div>
      <span class="method">DELETE</span> <code>/url/delete</code><br>
      <span class="headers">Headers:</span> <code>Authorization: "Bearer <%= "<token>" %>"</code><br>
      <span class="headers">Params:</span> <code>shortCode=xxxxxx</code><br>
      <strong>Response:</strong>
      <pre class="code-block"><code>{
  "success": true,
  "message": "URL Deleted Successfully",
  "data": {
    "deletedUrl": {
      "_id": "...",
      "user": "...",
      "longUrl": "https://example.com",
      "shortCode": "xxxxxx",
      "visitCount": 10,
      "createdAt": "...",
      "updatedAt": "...",
      "__v": 0
    }
  },
  "statusCode": 200,
  "timestamp": "..."
}</code></pre>
    </div>
  </section>

  <section>
    <h2>âš ï¸ Error Response Format</h2>
    <pre class="code-block"><code>{
  "success": false,
  "message": "...message...",
  "errorCode": "...code[statusCode]...",
  "statusCode": "...statusCode...",
  "timestamp": "...",
  "stack": "...Error Stack..."
}</code></pre>
  </section>

  <section>
    <h2>ğŸ“ Folder Structure</h2>
    <pre class="code-block"><code>
url_shortner_api/
â”‚
â”œâ”€â”€ server.js
â”œâ”€â”€ app.js
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ db/
â”‚ â””â”€â”€ mongodb.config.js
â”œâ”€â”€ controllers/
â”‚ â”œâ”€â”€ url.controller.js
â”‚ â””â”€â”€ user.controller.js
â”œâ”€â”€ middleware/
â”‚ â”œâ”€â”€ auth.middleware.js
â”‚ â””â”€â”€ errorHandler.middleware.js
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ blacklist.model.js
â”‚ â”œâ”€â”€ url.model.js
â”‚ â””â”€â”€ user.model.js
â”œâ”€â”€ routes/
â”‚ â”œâ”€â”€ redirect.routes.js
â”‚ â”œâ”€â”€ url.routes.js
â”‚ â””â”€â”€ user.routes.js
â”œâ”€â”€ services/
â”‚ â”œâ”€â”€ url.service.js
â”‚ â””â”€â”€ user.service.js
â”œâ”€â”€ public/
â”‚ â”œâ”€â”€ images/
| â”‚ â”œâ”€â”€ favicon.png
| â”‚ â”œâ”€â”€ github.svg
| â”‚ â”œâ”€â”€ linkedin.svg
| â”‚ â””â”€â”€ mail.svg
â”‚ â”œâ”€â”€ javascripts/
| â”‚ â””â”€â”€ homepage.js
â”‚ â””â”€â”€ stylesheets/
|   â”œâ”€â”€ homepage.css
|   â””â”€â”€ notfound.css
â”œâ”€â”€ views/
â”‚ â”œâ”€â”€ homepage.ejs
â”‚ â””â”€â”€ notfound.ejs
â”œâ”€â”€ utils/
â”‚ â”œâ”€â”€ appError.util.js
â”‚ â”œâ”€â”€ catchAsync.util.js
â”‚ â”œâ”€â”€ response.util.js
â”‚ â””â”€â”€ setCookie.util.js
â””â”€â”€ ...
    </code></pre>
  </section>

  <footer>
    <hr>
    <p>Made with â¤ï¸ by Neel Shah</p>
    <section>
      <div>
        <p>Connect with me</p>
        <div class="contact">
          <button><a href="mailto:neelsshah2006@gmail.com" target="_blank"><img width="35" src="/images/mail.svg"
                alt="gmail"></a></button>
          <button><a href="https://linkedin.com/in/neelsshah2006" target="_blank"><img width="30"
                src="/images/linkedin.svg" alt="linkedin"></a></button>
        </div>
      </div>
    </section>
  </footer>

  <script src="/javascripts/homepage.js"></script>
</body>

</html>